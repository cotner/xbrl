<html>
<head>
<title>XBRLAPI installation suggestions</title>
<link rel="stylesheet" href="/css/styles.css" type="text/css"/>
</head>
<body>

<div class="logo_container">
	<span class="logo">
		XBRLAPI
	</span>
	<span class="logo_subscript">
		oss
	</span>
</div>

<div class="content">
<h1>
Using the XBRLAPI from the command line
</h1>

<h2>
Overview
</h2>

<p>This page is relevant to those looking to perform some basic command line
tests that XBRLAPI is available from their commandline.</p>

<h2>Get Java on the command line</h2>

<p>Type <code>java -version</code> at the command line to see if Java is available. 
You should see a message indicating that the java version is 1.6 or later.  See the 
<a href="java.html">Java configuration</a> page if you run into troubles.</p> 

<h2>Get the necessary JAR files</h2>

<p>Ensure that the XBRLAPI JAR files are on the class path.  This can be done by
placing them in the lib/ext directory in the Java installation.  It can also be done
by modifying the CLASS_PATH environment variable to include the directory that contains
the XBRLAPI JAR files.  It can also be done by ensuring that the current directory for the 
command line operations also contains the XBRLAPI JAR files.</p>

<p>At a minimum you will need:</p>
<ul>
<li>xbrlapi-utilities-VERSION.jar</li>
<li>xbrlapi-api-VERSION.jar</li>
<li>xmlbase-api-VERSION.jar</li>
<li>xlink-api-VERSION.jar</li>
<li>xpointer-api-VERSION.jar</li>
</ul>

<p>where VERSION is the XBRLAPI release VERSION.</p>

<p>Download the necessary XBRLAPI modules as JAR files from 
<a href="https://sourceforge.net/project/showfiles.php?group_id=135539">Sourceforge</a>.
You will definitely require the xbrlapi-utilities module, the
xbrlapi-api module, the xbrlapi-xlink, xbrlapi-xpointer and
xbrlapi-xmlbase modules. If you want to use a persistent data store,
then you will also require one of the xbrlapi-bdb-xml or xbrlapi-exist modules.</p>

<p>You will also require some third party JAR files. Depending on the
XBRLAPI modules that you require, you may need to obtain the following
JAR files:</p>

<table class="xbrlapi">
<tr>
	<th>JAR file</th>
	<th>Version</th>
	<th>Purpose</th>
	<th>Requiring modules</th>
</tr>
<tr>
	<td>log4j-1.2.13.jar</td>
	<td>1.2.13</td>
	<td>logging framework</td>
	<td>xbrlapi-utilities</td>
</tr>
<tr>
	<td>xml-apis.jar</td>
	<td>1.3.04</td>
	<td>XML API for Xerces</td>
	<td>xbrlapi-utilities</td>
</tr>
<tr>
	<td>xercesImpl.jar</td>
	<td>2.8.1</td>
	<td>Xerces XML Parser</td>
	<td>xbrlapi-utilities</td>
</tr>
<tr>
	<td>junit.jar</td>
	<td>3.8.1</td>
	<td>JUnit unit testing</td>
	<td>xbrlapi-utilities</td>
</tr>
<tr>
	<td>saxon9.jar</td>
	<td>9.1</td>
	<td>Saxon 9.1 processor</td>
	<td>xbrlapi-api</td>
</tr>
<tr>
  <td>saxon9.jar</td>
  <td>9.1</td>
  <td>Saxon 9.1 processor</td>
  <td>xbrlapi-api</td>
</tr>
<tr>
  <td>saxon9-dom.jar</td>
  <td>9.1</td>
  <td>Saxon 9.1 processor - to enable operations on XML DOM structures</td>
  <td>xbrlapi-api</td>
</tr>
<tr>
  <td>saxon9-s9api.jar</td>
  <td>9.1</td>
  <td>Saxon 9.1 processor - to enable S9API XQuery operations</td>
  <td>xbrlapi-api</td>
</tr>
<tr>
	<td>exist-1.1.1.jar</td>
	<td>1.1.1</td>
	<td>eXist XML database</td>
	<td>xbrlapi-exist</td>
</tr>
<tr>
	<td>xmldb.jar</td>
	<td>eXist version</td>
	<td>XML:DB API as distributed with eXist 1.1.1</td>
	<td>xbrlapi-exist</td>
</tr>
<tr>
	<td>xmlrpc-1.2-patched.jar</td>
	<td>1.2 patched for eXist</td>
	<td>XML RPC API as distributed with eXist 1.1.1</td>
	<td>xbrlapi-exist</td>
</tr>
<tr>
	<td>db.jar</td>
	<td>2.3.10</td>
	<td>Berkeley DB Java interface to binaries</td>
	<td>xbrlapi-bdb-xml</td>
</tr>
<tr>
	<td>dbxml.jar</td>
	<td>2.3.10</td>
	<td>Berkeley DB XML overlay: Java interface to binaries</td>
	<td>xbrlapi-bdb-xml</td>
</tr>

</table>

<p>To make things easy, these have been included in the SVN repository for the XBRLAPI so
if you check out the XBRLAPI project from SVN then you should have them all.  Alternatively
you can download those that you require directly from the 
<a href="http://xbrlapi.svn.sourceforge.net/viewvc/xbrlapi/trunk/java/lib/">browseable SVN repository</a> on Sourceforge.</p>

<h2>Put the JAR files on your CLASS_PATH</h2>

<p>Make sure that all of the necessary JAR files (the XBRLAPI ones and the third party 
dependency ones) are on your Java CLASS_PATH. If you have installed a complete Java SDK, 
then a very simple way to achieve this outcome is to place them in your $JAVA_HOME/jre/lib/ext 
directory where $JAVA_HOME is the value of the JAVA_HOME environment variable 
set when you installed your Java SDK.  If you are identifying the necessary JAR files
using the -classpath parameter, then be sure not to also use the -jar parameter for the Java
runtime engine.</p>

<h2>Configure log4j</h2>

<p>You need to configure <a href="http://logging.apache.org/log4j/docs/download.html">log4j</a>. 
This configuration is specified in an XML file.  A useful starting point for such 
<a href="http://xbrlapi.svn.sourceforge.net/viewvc/xbrlapi/trunk/conf/log4j.xml?view=log">a 
log4j configuration</a> is available from the online SVN browsing facility at Sourceforge. Download 
the log4j.xml file and its DTD (or if you have checked out the entire XBRLAPI project, then just use the log4.xml
file that is in the <code>conf</code> directory of the XBRLAPI project) and store it somewhere 
convenient, say <code>/configuration/file/path/log4j.xml</code>.  This configuration file
is set up to send log messages to the console.</p>

<h2>Configure your local cache for XBRL documents</h2>

<p>The XBRLAPI caches any documents that are loaded into a data store.  You need to set 
up a writeable folder to store this cache.  When populated, the cache will contain a local
copy of each of the XML documents that are discovered during the loading process.
Refer to the directory where the local copies are to be cached as: 
<code>/xbrl/cache/</code></p>

<p>
  At this point you have just about enough basicd configuration to run your own programs using 
  the XBRLAPI from the commandline.  There are a few specific commandline programs with more detailed 
  documentation in the <a href="/examples">examples</a> on this website.
</p>

<h2>Running the Unit tests distributed with XBRLAPI</h2>

<p>A more comprehensive test of your XBRLAPI installation is possible <a href="unitTesting.html">using the
JUnit tests</a> that are distributed with XBRLAPI.</p>

<p>
<a href="http://sourceforge.net/projects/xbrlapi"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=135539&type=11" width="120" height="30" border="0" alt="Get Java XBRL API implementation at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/xbrlapi/" : "http://apps.sourceforge.net/piwik/xbrlapi/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 1;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<p><img src="http://apps.sourceforge.net/piwik/xbrlapi/piwik.php?idsite=1" alt="piwik"/></p><!-- End Piwik Tag -->


</div>

</body>
</html>
